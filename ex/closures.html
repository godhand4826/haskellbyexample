<!DOCTYPE html><html><head><title>Haskell by Example: Closures</title><link rel="stylesheet" href="../css/main.css"><link rel="stylesheet" href="../css/prism.css"><script src="../js/prism.js"></script></head><body><div class="example"><h1>Haskell by Example: Closures</h1><a href="https://gobyexample.com/closures">original</a><pre><code class="language-haskell">import Data.IORef

intSeq :: IORef Int -&gt; IO Int
intSeq ref = do
    modifyIORef ref (+1)
    readIORef ref

main = do
    ref &lt;- newIORef 0
    let nextInt = intSeq ref

    print =&lt;&lt; nextInt
    print =&lt;&lt; nextInt
    print =&lt;&lt; nextInt

    ref&#39; &lt;- newIORef 0
    let newInts = intSeq ref&#39;
    print =&lt;&lt; newInts</code></pre>
<pre><code class="language-bash">$ runhaskell closures.hs
1
2
3
1</code></pre><a href="../">back to index</a></div></body></html>